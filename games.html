<!DOCTYPE html>
<html lang="ht">
<head>
    <link rel="icon" type="image/png" href="logo.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ZETWAL GAMES | Chwazi Jw√®t ou</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* CSS REPRIS EXACTEMENT DE L'ACCUEIL */
        :root { --gold: #ffd700; --gold-deep: #b8860b; --gold-light: #fff8dc; --gold-glow: rgba(255, 215, 0, 0.4); --bg: #010101; --text: #ffffff; --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); }
        .light-mode { --bg: #fdfdfd; --text: #1a1a1a; }
        body { background: var(--bg); color: var(--text); margin: 0; font-family: 'Montserrat', sans-serif; overflow-x: hidden; transition: background 0.5s ease; }
        #webgl-canvas { position: fixed; inset: 0; z-index: -10; }

        /* HEADER & NAV */
        .nav { position: fixed; top: 0; width: 100%; z-index: 1000; background: rgba(0, 0, 0, 0.15); backdrop-filter: blur(40px); border-bottom: 1px solid rgba(255, 215, 0, 0.3); }
        .nav-content { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; margin: 0 auto; padding: 12px 20px; }
        .nav-links a { color: var(--text); text-decoration: none; font-weight: 600; font-size: 0.8rem; text-transform: uppercase; }
        .logo-text { font-family: 'Playfair Display', serif; font-size: 1.1rem; font-weight: 700; }
        .logo-text span { color: var(--gold); }

        /* CARDS STYLE */
        .liquid-border { position: relative; border: 1px solid transparent; border-radius: 30px; transition: var(--transition); cursor: pointer; }
        .liquid-border:hover { transform: scale(1.03); filter: drop-shadow(0 0 20px var(--gold)); }
        .liquid-border::before { content: ""; position: absolute; inset: -1px; z-index: -1; border-radius: inherit; padding: 1px; background: linear-gradient(90deg, var(--gold-deep), var(--gold), var(--gold-light), var(--gold), var(--gold-deep)); background-size: 300% 300%; animation: liquidGold 12s linear infinite; -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0); -webkit-mask-composite: xor; }
        @keyframes liquidGold { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .zoom-card { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); padding: 40px; }
        .btn-main-gold { display: inline-block; padding: 15px 35px; background: var(--gold); color: #000; text-decoration: none; border-radius: 50px; font-weight: 800; text-transform: uppercase; transition: var(--transition); box-shadow: 0 10px 30px var(--gold-glow); border: none; cursor: pointer; }
        
        .points-badge { background: rgba(255,215,0,0.2); border: 1px solid var(--gold); padding: 5px 15px; border-radius: 20px; color: var(--gold); font-weight: 800; font-size: 0.9rem; }
        
        /* FOOTER */
        footer { background: rgba(0, 0, 0, 0.3); backdrop-filter: blur(40px); padding: 60px 10%; border-top: 1px solid rgba(255, 215, 0, 0.3); display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 40px; margin-top: 100px; }
        .theme-toggle { position: fixed; top: 100px; right: 20px; z-index: 2000; background: var(--gold); border: none; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
    </style>
</head>
<body>
    <canvas id="webgl-canvas"></canvas>
    <button class="theme-toggle" onclick="toggleTheme()">üåì</button>

    <nav class="nav">
        <div class="nav-content">
            <div class="logo-container" style="display:flex; align-items:center; gap:10px;">
                <img src="logo.png" style="width:35px;">
                <div class="logo-text">JW√àT <span>ZETWAL</span></div>
            </div>
            <div id="user-points-display" class="points-badge">Chaje pwen...</div>
            <ul class="nav-links" style="display: flex; list-style: none; gap: 20px;">
                <li><a href="index.html">Ak√®y</a></li>
            </ul>
        </div>
    </nav>

    <main style="padding: 150px 10% 100px; text-align: center;">
        <h1 style="font-family: 'Playfair Display', serif; font-size: 3rem; margin-bottom: 50px;">Bibliyot√®k <span style="color:var(--gold);">Prestige</span></h1>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 40px;">
            <div class="zoom-card liquid-border">
                <h2 style="color:var(--gold);">üß† DUEL MENTAL</h2>
                <p style="font-size: 0.9rem; opacity: 0.8; line-height: 1.6;">Defye t√®t ou ak kalkil rapid, memwa vizy√®l, ak lojik. Genyen jiska 27.5 pwen nan 10 kesyon!</p>
                <div style="margin: 20px 0; font-weight: 600;">Pri: 10 pwen</div>
                <a href="duel-mental.html" class="btn-main-gold">JWE KOUNYE A</a>
            </div>

            <div class="zoom-card liquid-border" style="opacity: 0.6; cursor: not-allowed;">
                <h2 style="color:gray;">üöÄ PLIS JW√àT...</h2>
                <p>Nouvo jw√®t ap vini tal√® konsa pou plis plezi.</p>
                <button class="btn-main-gold" style="background:gray; box-shadow:none;" disabled>AN ATTANTE</button>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-col">
            <img src="logo.png" style="width:40px; margin-bottom:15px;">
            <h3 style="color:var(--gold);">KONTAK</h3>
            <p>pwoduizetwal@gmail.com</p>
        </div>
        <div class="footer-bottom" style="grid-column: 1/-1; text-align:center; color:var(--gold); letter-spacing:3px; padding-top:20px;">ZETWAL 2026</div>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot, updateDoc } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAjCnmtvu0tqlsNDEtKraKBG79y12qYeCQ",
            authDomain: "lavrizetwal.firebaseapp.com",
            projectId: "lavrizetwal",
            storageBucket: "lavrizetwal.firebasestorage.app",
            messagingSenderId: "291921316186",
            appId: "1:291921316186:web:f55e8b34526960df394b63"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // TEST SCRIPT: Ajoute 1000 pwen otomatikman
                const userRef = doc(db, "users", user.uid);
                await updateDoc(userRef, { points: 1000 }); // S√àLMAN POU T√àS

                // Listen points an tan rey√®l
                onSnapshot(userRef, (doc) => {
                    const p = doc.data()?.points || 0;
                    document.getElementById('user-points-display').innerText = `${p} pwen`;
                });
            } else {
                window.location.href = 'index.html';
            }
        });
    </script>

    <script>
        // Copy-paste de ton code WebGL d'accueil ici (stars, sun, particles)
        // ... (Mwen mete lojik WebGL la menm jan ak paj ak√®y la pou sol√®y la ak zetwal yo par√®t)
        // [Gade k√≤d nan paj duel-mental pou v√®syon konpl√® a]
    </script>
</body>
</html>
