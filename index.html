<!DOCTYPE html>
<html lang="ht">
<head>
    <link rel="icon" type="image/png" href="logo.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>LAVRI ZETWAL | Pi pw√≤p, pi santi bon</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="bubble-container"></div>
    <div id="star-container" class="star-field"></div>

    <nav class="nav">
        <div class="container nav-content">
            <a href="https://wa.me/79961103506" class="wa-icon-btn">
                <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WA" class="wa-img">
            </a>
            
            <ul class="nav-links">
                <li><a href="index.html" class="active">Ak√®y</a></li>
                <li><a href="services.html">S√®vis</a></li>
                <li><a href="tarifs.html">Tarif</a></li>
            </ul>
            <div class="logo-container">
    <img src="logo.png" alt="Zetwal" class="nav-logo-icon">
    <div class="logo-text">LAVRI <span>ZETWAL</span></div>
            </div>
    </nav>

    <header class="hero">
        <div class="container">
            <div class="hero-content">
                <span class="location-badge-gold">Gonayiv ‚Ä¢ Enpas 3e Riy√®l Yamoul #5</span>
                <h1 class="main-title">Pi pw√≤p, <br><span class="gold-shimmer-extreme">pi santi bon.</span></h1>
                <p class="gold-text-sub-glow">Lave pi rapid san traka</p>
                <div class="hero-cta">
                    <a href="https://wa.me/79961103506" class="btn-main-gold">k√≤mande lavaj ou kounye a</a>
                </div>
            </div>
        </div>
    </header>

    <section class="gallery-prestige">
        <div class="container">
            <div class="image-showcase">
                <div class="img-wrapper">
                    <img src="machine.jpg" alt="Machin Lavri Zetwal">
                    <div class="img-overlay">10 Machin 22Kg Disponib</div>
                </div>
            </div>
        </div>
    </section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>

<style>
    :root { --l√≤: #ffd700; --sol√®y: #ff4500; --nwa: #020202; }
    body { background: var(--nwa); color: white; font-family: 'Poppins', sans-serif; margin: 0; overflow-x: hidden; touch-action: none; }
    
    #galaxy-bg { position: fixed; inset: 0; z-index: -2; pointer-events: none; }

    /* UI MODERNE */
    .game-ui { text-align: center; position: relative; z-index: 100; padding: 20px; display: none; }
    .stat-bar { display: flex; justify-content: center; gap: 15px; margin-bottom: 20px; }
    .stat-card { background: rgba(0,0,0,0.8); border: 1.5px solid var(--l√≤); border-radius: 15px; padding: 12px 25px; box-shadow: 0 0 15px rgba(255,215,0,0.2); }
    
    /* GRID MATCH-3 AVANSE */
    #game-grid {
        display: grid; grid-template-columns: repeat(6, 60px); grid-template-rows: repeat(6, 60px);
        gap: 10px; background: rgba(255, 215, 0, 0.05); padding: 20px;
        border-radius: 25px; border: 2px solid var(--l√≤); margin: 0 auto; width: fit-content;
        backdrop-filter: blur(10px);
    }
    .tile {
        width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center;
        justify-content: center; font-size: 32px; cursor: pointer; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        background: rgba(255,255,255,0.05); border: 1px solid rgba(255,215,0,0.1);
    }
    .tile:hover { transform: scale(1.15); box-shadow: 0 0 20px var(--l√≤); background: rgba(255,215,0,0.2); }
    .tile.match-anim { animation: matchExplosion 0.5s forwards; }

    @keyframes matchExplosion { 
        0% { transform: scale(1); } 
        50% { transform: scale(1.4); opacity: 0.7; filter: brightness(2); } 
        100% { transform: scale(0); opacity: 0; } 
    }

    /* 3D SCENES */
    .viewport { width: 100%; height: 500px; position: relative; background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%); border-top: 2px solid var(--l√≤); }
    .label-3d { position: absolute; top: 20px; left: 20px; color: var(--l√≤); font-weight: 900; letter-spacing: 3px; z-index: 10; font-size: 0.8rem; }

    /* FOOTER VIZIB */
    #prestige-footer {
        position: relative; width: 100%; padding: 40px 0; background: #000; text-align: center; border-top: 1.5px solid #222;
    }
    .logo-zetwal { font-family: 'Playfair Display', serif; font-size: 2.5rem; color: var(--l√≤); letter-spacing: 8px; margin-bottom: 10px; text-shadow: 0 0 20px var(--l√≤); }
</style>

<canvas id="galaxy-bg"></canvas>

<div id="login-screen" style="position:fixed; inset:0; background:#000; z-index:10000; display:flex; flex-direction:column; align-items:center; justify-content:center;">
    <div id="sun-container" style="width:300px; height:300px; margin-bottom:40px;"></div>
    <button onclick="igniteEngine()" style="background:var(--l√≤); border:none; padding:18px 50px; border-radius:50px; font-weight:900; cursor:pointer; font-size:1.1rem; box-shadow: 0 0 30px var(--sol√®y);">K√íMANSE LAVRI A</button>
</div>

<section id="game-ui" class="game-ui">
    <div class="stat-bar">
        <div class="stat-card"><small>SCORE</small><div id="score">0</div></div>
        <div class="stat-card" style="border-color:var(--sol√®y);"><small>MOUVMAN</small><div id="moves">25</div></div>
        <div class="stat-card"><small>NIVO</small><div id="level">1</div></div>
    </div>
    <div id="game-grid"></div>
</section>

<div class="viewport">
    <div class="label-3d">SIMILASYON REYALIS & EKIPMAN</div>
    <div id="char-render" style="width:100%; height:100%;"></div>
</div>

<footer id="prestige-footer">
    <div class="logo-zetwal">ZETWAL</div>
    <p style="color:var(--l√≤); opacity:0.8; letter-spacing:3px; font-size:0.7rem;">¬© 2026 ‚Ä¢ TOUT DWA REZ√àVE</p>
</footer>

<script>
// --- CONFIGURASYON ---
const radItems = ['üëï', 'üëñ', 'üëó', 'üß•', 'üëö'];
let gameState = { score: 0, moves: 25, level: 1, grid: [], isBusy: false };

// --- 1. SOL√àY 3D (CENTRE VISUEL) ---
const sunScene = new THREE.Scene();
const sunCam = new THREE.PerspectiveCamera(45, 1, 0.1, 1000);
const sunRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
sunRenderer.setSize(300, 300);
document.getElementById('sun-container').appendChild(sunRenderer.domElement);

const sunGeo = new THREE.SphereGeometry(1, 64, 64);
const sunMat = new THREE.MeshStandardMaterial({ 
    color: 0xff4500, emissive: 0xffaa00, emissiveIntensity: 2, roughness: 0.5 
});
const sunMesh = new THREE.Mesh(sunGeo, sunMat);
sunScene.add(sunMesh);
const sunLight = new THREE.PointLight(0xffaa00, 5, 50); sunScene.add(sunLight);
sunCam.position.z = 3;

// --- 2. CHARACTER SIMULATION (PBR) ---
const charScene = new THREE.Scene();
const charCam = new THREE.PerspectiveCamera(40, window.innerWidth/500, 0.1, 1000);
const charRenderer = new THREE.WebGLRenderer({ antialias: true });
charRenderer.setSize(window.innerWidth, 500);
charRenderer.shadowMap.enabled = true;
charRenderer.outputEncoding = THREE.sRGBEncoding;
document.getElementById('char-render').appendChild(charRenderer.domElement);

// Room & Lighting
const ground = new THREE.Mesh(new THREE.PlaneGeometry(20, 20), new THREE.MeshStandardMaterial({color: 0x111111, metalness: 0.8, roughness: 0.2}));
ground.rotation.x = -Math.PI/2; ground.position.y = -2; ground.receiveShadow = true;
charScene.add(ground);

const charGroup = new THREE.Group();
const body = new THREE.Mesh(new THREE.CapsuleGeometry(0.4, 1.2, 8, 20), new THREE.MeshStandardMaterial({color: 0xffdbac, roughness: 0.3}));
body.castShadow = true; charGroup.add(body);
charScene.add(charGroup);

const light = new THREE.SpotLight(0xffffff, 2); light.position.set(5, 10, 5); light.castShadow = true;
charScene.add(light, new THREE.AmbientLight(0xffffff, 0.3));
charCam.position.set(0, 1, 8);

// --- 3. MATCH-3 LOGIC (CANDY CRUSH STYLE) ---
function initGrid() {
    const gridEl = document.getElementById('game-grid'); gridEl.innerHTML = '';
    gameState.grid = Array(6).fill().map(() => Array(6).fill().map(() => Math.floor(Math.random()*radItems.length)));
    renderGrid();
}

function renderGrid() {
    const gridEl = document.getElementById('game-grid'); gridEl.innerHTML = '';
    gameState.grid.forEach((row, r) => row.forEach((id, c) => {
        const t = document.createElement('div'); t.className = 'tile';
        t.id = `t-${r}-${c}`; t.innerHTML = radItems[id];
        t.onclick = () => selectTile(r, c); gridEl.appendChild(t);
    }));
}

let selected = null;
async function selectTile(r, c) {
    if(gameState.isBusy || gameState.moves <= 0) return;
    const el = document.getElementById(`t-${r}-${c}`);
    if(!selected) { selected = {r, c}; el.style.border = "2px solid white"; }
    else {
        const dist = Math.abs(selected.r - r) + Math.abs(selected.c - c);
        if(dist === 1) await swap(selected.r, selected.c, r, c);
        document.querySelectorAll('.tile').forEach(t => t.style.border = "");
        selected = null;
    }
}

async function swap(r1, c1, r2, c2) {
    gameState.isBusy = true;
    [gameState.grid[r1][c1], gameState.grid[r2][c2]] = [gameState.grid[r2][c2], gameState.grid[r1][c1]];
    renderGrid();
    
    let matches = checkMatches();
    if(matches.length > 0) {
        gameState.moves--;
        await handleMatches(matches);
    } else {
        // Undo
        [gameState.grid[r1][c1], gameState.grid[r2][c2]] = [gameState.grid[r2][c2], gameState.grid[r1][c1]];
        setTimeout(renderGrid, 200);
    }
    gameState.isBusy = false;
    updateUI();
}

function checkMatches() {
    let matches = [];
    // Horiz
    for(let r=0; r<6; r++) {
        for(let c=0; c<4; c++) {
            if(gameState.grid[r][c] === gameState.grid[r][c+1] && gameState.grid[r][c] === gameState.grid[r][c+2])
                matches.push({r,c}, {r,c:c+1}, {r,c:c+2});
        }
    }
    // Vert
    for(let c=0; c<6; c++) {
        for(let r=0; r<4; r++) {
            if(gameState.grid[r][c] === gameState.grid[r+1][c] && gameState.grid[r][c] === gameState.grid[r+2][c])
                matches.push({r,c}, {r:r+1,c}, {r:r+2,c});
        }
    }
    return matches;
}

async function handleMatches(matches) {
    matches.forEach(m => {
        const el = document.getElementById(`t-${m.r}-${m.c}`);
        if(el) el.classList.add('match-anim');
        gameState.grid[m.r][m.c] = -1;
    });
    gameState.score += matches.length * 20;
    await new Promise(res => setTimeout(res, 500));
    fillHoles();
    renderGrid();
    let nextMatches = checkMatches();
    if(nextMatches.length > 0) await handleMatches(nextMatches);
    
    if(gameState.score >= gameState.level * 1000) levelUp();
}

function fillHoles() {
    for(let c=0; c<6; c++) {
        for(let r=5; r>=0; r--) {
            if(gameState.grid[r][c] === -1) {
                for(let kr=r-1; kr>=0; kr--) {
                    if(gameState.grid[kr][c] !== -1) {
                        gameState.grid[r][c] = gameState.grid[kr][c];
                        gameState.grid[kr][c] = -1;
                        break;
                    }
                }
                if(gameState.grid[r][c] === -1) gameState.grid[r][c] = Math.floor(Math.random()*radItems.length);
            }
        }
    }
}

function levelUp() {
    gameState.level++;
    gameState.moves += 10;
    // Rekonpans vizy√®l: P√®sonaj la chanje koul√® rad
    gsap.to(body.material.color, { r: Math.random(), g: Math.random(), b: Math.random(), duration: 2 });
    gsap.to(charGroup.rotation, { y: charGroup.rotation.y + Math.PI*2, duration: 2, ease: "back.out" });
    alert(`NIVO ${gameState.level} DEBLOKE! P√®sonaj la resevwa nouvo ekipman!`);
}

function updateUI() {
    document.getElementById('score').innerText = gameState.score;
    document.getElementById('moves').innerText = gameState.moves;
    document.getElementById('level').innerText = gameState.level;
}

// --- ENGINE LOOP ---
function igniteEngine() {
    document.getElementById('login-screen').style.display = 'none';
    document.getElementById('game-ui').style.display = 'block';
    initGrid();
    loop();
}

function loop() {
    requestAnimationFrame(loop);
    sunMesh.rotation.y += 0.01;
    sunMesh.scale.setScalar(1 + Math.sin(Date.now()*0.002)*0.05);
    
    charGroup.rotation.y += 0.005;
    
    sunRenderer.render(sunScene, sunCam);
    charRenderer.render(charScene, charCam);
}
</script>
</body>
</html>



















































